{"version":3,"sources":["components/HowTo/HowTo.js","components/Score/Socre.js","components/CreatedBy/CreatedBy.js","components/Win/Win.js","components/rudrata-chess-diagram/board.js","components/rudrata-chess-diagram/piece.js","components/rudrata-chess-diagram/pieceDefinitions.js","components/rudrata-chess-diagram/BoardContainer.js","components/rudrata-chess-diagram/chessdiagram.js","App.js","reportWebVitals.js","index.js"],"names":["HowTo","Container","id","data-testid","style","fontSize","className","this","props","altBackground","Component","Score","Col","Badge","variant","currentScore","order","CreatedBy","href","target","rel","Win","useWindowSize","width","height","Square","fillColor","light","lightSquareColor","darkSquareColor","fill","squareSize","x","y","displayName","SquareHighlight","stroke","highlightColor","strokeWidth","defaultProps","Board","square","flip","files","toLowerCase","charCodeAt","Number","slice","ranks","file","rank","index","Math","floor","nextProps","selectedSquare","squares","_fileRankToCoords","push","map","i","_indexToSquare","Object","keys","highlights","_squareToCoords","Piece","pieceType","scale","transformString","drawPiece","React","pieceDefs","transform","d","fillOpacity","BoardContainer","state","selectedPieceType","dragX","dragY","isDragging","left","top","_onResize","bind","_onScroll","_getClientPos","window","addEventListener","removeEventListener","evt","Event","dispatchEvent","preventDefault","clientX","clientY","_grab","touches","_move","_release","String","fromCharCode","boardW","boardH","_coordsToSquare","selectedPiece","_getPieceAtSquare","setState","onSelectSquare","finalSquare","onMovePiece","rect","Client","getBoundingClientRect","pieces","pieceString","split","isNaN","fields","fen","pieceDefinitions","assign","standardPieceDefinitions","pieceChars","RegExp","join","replace","reduce","accum","c","test","toString","isInteger","parseInt","_getPiecesFromFEN","_getPieces","filter","pieceLocation","ref","svg","display","marginBottom","onMouseDown","_onMouseDown","onMouseMove","_onMouseMove","onTouchEnd","_onTouchEnd","onTouchMove","_onTouchMove","onTouchStart","_onTouchStart","onMouseUp","_onMouseUp","piece","allowedMoves","Chessdiagram","moves","Array","isArray","pgn","getFensFromPgn","currentMove","startMove","from","to","allowMoves","halfMove","_onMovePiece","newlineChar","pgnHeight","App","handleOrder","event","attributes","value","Fragment","Row","col","ChessBoard","boardWidth","boardHeight","diagramDimensions","seqNumber","tourSeq","helpAltBackground","wrapper","createRef","handleClear","handleMove","handleHowTo","handleUpdate","prevProps","move","includes","placeKnight","prevMove","pop","checkLegalMove","document","querySelector","scrollIntoView","setTimeout","legalMoves","re","move_x","indexOf","move_y","prevMove_x","prevMove_y","isLegal","sequence","tourSquares","lastSquareName","positionDescriptor","sq","fluid","onClick","icon","faArrowRight","ButtonToolbar","Button","size","Dropdown","Toggle","Menu","Item","data-order","Divider","bounds","onResize","contentRect","measureRef","min","name","faPiggyBank","PureComponent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1671ab2a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nclass HowTo extends Component {\n  render() {\n    return (\n      <>\n        <Container\n          id=\"how-to\"\n          data-testid='how-to'\n          style={{ fontSize: \"1.5em\" }}\n          className={\n            this.props.altBackground === true\n              ? \"bg-success text-light bg-transition p-2\"\n              : \" bg-transition p-2\"\n          }\n        >\n          <strong>How To Play</strong>\n          <br />\n          <p>\n            <strong>Click on any square</strong> to place a knight and start the\n            game. Your goal is to <strong>visit each square</strong> on the\n            chessboard <strong>exactly once</strong>.\n          </p>\n          <p>\n            Click on any square to move the knight to it. As in chess, the\n            knight may only move in an \"L\" shape:{\" \"}\n            <strong>two squares vertically and one horizontally</strong>, or{\" \"}\n            <strong>two squares horizontally and one square vertically</strong>.\n          </p>\n\n          <p>If you are able to tour the entire chess board, <strong>something mysterious might happen!</strong></p>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default HowTo;\n","\nimport React from \"react\";\nimport {Badge, Col } from 'react-bootstrap';\n\nexport default function Score(props){\n        return(\n            <div data-testid='scoreboard' className='h4 rounded col-12'>\n            \n                <Col className='font-weight-bold rounded d-flex flex-column pb-2 bg-success'> \n                <p className='text-light text-center'>Score</p>\n                <Badge variant='success' className='font-weight-bold'>{props.currentScore}/{props.order * props.order}</Badge>\n                </Col>   \n             \n            </div>\n        );\n    }","import { Container } from \"react-bootstrap\";\n\nfunction CreatedBy() {\n  return (\n    <>\n      <Container id=\"created-by\" data-testid='created-by' style={{ fontSize: \"1.5em\" }}>\n        <p>\n          Created by{\" \"}\n          <a\n            href=\"https://github.com/OulipianSummer\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Andrew Benbow\n          </a>\n          . UI design inspired by{\" \"}\n          <a href=\"https://play2048.co/\" target=\"_blank\" rel=\"noreferrer\">\n            2048\n          </a>{\" \"}\n          by{\" \"}\n          <a\n            href=\"https://twitter.com/gabrielecirulli?lang=en\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Gabriele Cirulli\n          </a>\n          .\n        </p>\n      </Container>\n    </>\n  );\n}\n\nexport default CreatedBy;\n","import React from 'react'\nimport useWindowSize from 'react-use/lib/useWindowSize'\nimport Confetti from 'react-confetti'\n \nexport default function Win(){\n  const { width, height } = useWindowSize()\n  return (\n    <Confetti\n      className='confetti'\n      width={width}\n      height={height}\n    />\n  )\n}\n ","/*\n\nMIT License\n\nCopyright (c) 2016 Judd Niemann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\n\n/*\n *=================================================================================================\n * Modified in 2020 by Andrew Benbow for use in Rudrata web app\n * 1. Removed stroke width and color\n * 2. Removed the font family property in render so that the fonts resort to style defaults\n * 3. Updated default highlight color\n * 4. Removed rank and file labels\n *=================================================================================================\n */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Square extends Component {\n\trender() {\n\t\tlet fillColor = this.props.light ? this.props.lightSquareColor : this.props.darkSquareColor;\n\t\treturn (\n\t\t\t<rect\n\t\t\t\tfill={fillColor}\n\t\t\t\theight={this.props.squareSize}\n\t\t\t\t//Removed stroke=\"black\"\n\t\t\t\t//strokeWidth=\"1\"\n\t\t\t\twidth={this.props.squareSize}\n\t\t\t\tx={this.props.x}\n\t\t\t\ty={this.props.y}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nSquare.propTypes = {\n\tdarkSquareColor: PropTypes.string.isRequired,\n\tlight: PropTypes.bool.isRequired,\n\tlightSquareColor: PropTypes.string.isRequired,\n\tsquareSize: PropTypes.number.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n};\nSquare.displayName = 'Square';\n\nclass SquareHighlight extends Component {\n\trender() {\n\t\treturn <rect x={this.props.x} y={this.props.y} width={this.props.squareSize} height={this.props.squareSize} stroke={this.props.highlightColor} fill=\"none\" strokeWidth=\"3\" />;\n\t}\n}\n\nSquareHighlight.propTypes = {\n\thighlightColor: PropTypes.string.isRequired,\n\tsquareSize: PropTypes.number.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n};\n\nSquareHighlight.defaultProps = {\n\thighlightColor: '' // Changed\n};\n\n\n/** Board : draws a chess board with given square size, square colors, and number of files and ranks */\nclass Board extends Component {\n\n\t\t// coordinate conversion functions ////\n\n\t_squareToCoords(square) { // convert a square name (eg 'e4') to coordinates\n\t\tif(this.props.flip) {\n\t\t\tlet x = this.props.squareSize * (this.props.files - (square.toLowerCase().charCodeAt(0)-97));\n\t\t\tlet y = (Number(square.slice(1))-1) * this.props.squareSize;\n\t\t\treturn [x,y];\n\t\t} else {\n\t\t\tlet x = this.props.squareSize * (1 + square.toLowerCase().charCodeAt(0)-97);\n\t\t\tlet y = (this.props.ranks-Number(square.slice(1))) * this.props.squareSize;\n\t\t\treturn [x,y];\n\t\t}\n\t}\n\n\t_fileRankToCoords(file, rank) { // convert zero-based file and rank values to coordinates\n\t\tif(this.props.flip) {\n\t\t\tlet\tx = this.props.squareSize * (this.props.files - file);\n\t\t\tlet y = this.props.squareSize * rank;\n\t\t\treturn [x,y];\n\t\t} else {\n\t\t\tlet\tx = this.props.squareSize * (1 + file);\n\t\t\tlet y = this.props.squareSize * (this.props.ranks - rank -1);\n\t\t\treturn [x,y];\n\t\t}\n\t}\n\n\t// 0-based index to algebraic notation (0 == 'a1', 1 == 'a2', ... 63 == 'h8' on an 8x8)\n\t_indexToSquare(index) {\n\t\tconst file = \"abcdefghijklmno\"[Math.floor(index / this.props.files)];\n\t\tconst rank = (index % this.props.files) + 1;\n\t\treturn file + rank;\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\treturn ( // note: put most likely changes towards the top ...\n\t\t\tnextProps.selectedSquare !== this.props.selectedSquare ||\n\t\t\tnextProps.flip !== this.props.flip ||\n\t\t\tnextProps.squareSize !== this.props.squareSize ||\n\t\t\tnextProps.lightSquareColor !== this.props.lightSquareColor ||\n\t\t\tnextProps.darkSquareColor !== this.props.darkSquareColor ||\n\t\t\tnextProps.ranks !== this.props.ranks ||\n\t\t\tnextProps.files !== this.props.files\n\t\t);\n\t}\n\n\t// the render() function\n\n\trender() {\n\t\tlet squares = [];\n\n\t\t// push coordinates into array\n\t\tfor (let file=0; file < this.props.files; file++){\n\t\t\tfor (let rank=0; rank < this.props.ranks; rank++) {\n\t\t\t\tlet [x,y] = this._fileRankToCoords(file, rank);\n\t\t\t\tsquares.push({x: x, y: y, light: (file ^ rank) & 1});\n\t\t\t}\n\t\t}\n\t\treturn (\n\n\t\t\t<svg>\n\t\t\t\t{squares.map((square,i) =>\n\t\t\t\t\t<Square\n\t\t\t\t\t\tid={this._indexToSquare(i)}\n\t\t\t\t\t\tsquare={this._indexToSquare(i)}\n\t\t\t\t\t\tx={square.x} y={square.y} key={i} light={!!square.light} squareSize={this.props.squareSize}\n\t\t\t\t\t\tlightSquareColor={this.props.lightSquareColor} darkSquareColor={this.props.darkSquareColor}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{Object.keys(this.props.highlights).map(square => {\n\t\t\t\t\tconst [x, y] = this._squareToCoords(square);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<SquareHighlight\n\t\t\t\t\t\t\tkey={square}\n\t\t\t\t\t\t\thighlightColor={this.props.highlights[square]}\n\t\t\t\t\t\t\tsquareSize={this.props.squareSize}\n\t\t\t\t\t\t\tx={x}\n\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t/>);\n\t\t\t\t})}\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nBoard.propTypes = {\n\tdarkSquareColor: PropTypes.string.isRequired,\n\tfiles: PropTypes.number.isRequired,\n\tflip: PropTypes.bool.isRequired,\n\thighlights: PropTypes.object,\n\tlightSquareColor: PropTypes.string.isRequired,\n\tranks: PropTypes.number.isRequired,\n\tselectedSquare: PropTypes.string,\n\tsquareSize: PropTypes.number.isRequired,\n};\n\nBoard.defaultProps = {\n\tdarkSquareColor:  \"#005EBB\",\n\tfiles: 8,\n\tflip: false,\n\thighlights: {},\n\tlightSquareColor: \"#2492FF\",\n\tranks: 8,\n\tsquareSize: 45,\n};\n\nexport default Board;\n","/*\n\nMIT License\n\nCopyright (c) 2016 Judd Niemann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\n\n\n\n//////////////////////////////////////////////////////////////////////////\n//  Modified in 2020 by Andrew Benbow for use in the Rudrata web app\n//  1. Removed the piece.css file, since we will not use it\n//\n////////////////////////////////////////////////////////////////////////\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n\n/** Piece: renders an svg chess piece of a given type and position */\nclass Piece extends React.Component {\n\n\tshouldComponentUpdate(nextProps) {\n\t\treturn (nextProps.x !== this.props.x || nextProps.y !== this.props.y || nextProps.pieceType !== this.props.pieceType || nextProps.squareSize !== this.props.squareSize);\n\t}\n\n\trender() {\n\t\tlet scale = this.props.squareSize / 45; // coordinates for drawings are based on square size of 45\n\t\tlet transformString = 'translate(' + this.props.x + ',' + this.props.y + ') scale(' + scale + ')';\n\t\treturn this.props.drawPiece(transformString);\n\t}\n}\n\n// TODO: remove pieceType, only check to see if drawPiece has changed in shouldComponentUpdate\nPiece.propTypes = {\n\tdrawPiece: PropTypes.func.isRequired,\n\tpieceType: PropTypes.string.isRequired,\n\tsquareSize: PropTypes.number.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\t/** recognized piece types: K,Q,R,B,N,P,k,q,r,b,n,p */\n};\n\nexport default Piece;\n","import React from 'react';\n\n/*\n\nMIT License\n\nCopyright (c) 2016 Judd Niemann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// Attribution:\n// SVG data for pieces adapted from here: https://commons.wikimedia.org/wiki/File:Chess_Pieces_Sprite.svg\n//\n// Modifications by J.Niemann:\n// 1. converted into react component format\n// 2. Styles separated into Stylesheet\n// 3. Changed white lines (curves) on Black Queen\n// 4. Made Black Knight's mouth open a little wider\n//\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n/*\n * ================================================================================================\n Modified by Andrew Benbow in 2020 for use in the Rudrata web app\n 1. Removed all piece definitions other than the white knight and the muted square\n 2. Modified existing piece definitions to utilize the Font Awesome chessKnight svg path\n 3. Modified blanked square color\n * ================================================================================================\n */\n\n\n\n\nconst pieceDefs = {\n\t'N': (transformString) => {\n\t\treturn (\n\t\t\t <svg>\n\t\t\t\t{/* white knight */}\n\t\t\t\t<g className=\"g_4\" transform={transformString}>\n\n      <path transform='scale(.08), translate(90, 20)' fill=\"white\" d=\"M19 272.47l40.63 18.06a32 32 0 0 0 24.88.47l12.78-5.12a32 32 0 0 0 18.76-20.5l9.22-30.65a24 24 0 0 1 12.55-15.65L159.94 208v50.33a48 48 0 0 1-26.53 42.94l-57.22 28.65A80 80 0 0 0 32 401.48V416h319.86V224c0-106-85.92-192-191.92-192H12A12 12 0 0 0 0 44a16.9 16.9 0 0 0 1.79 7.58L16 80l-9 9a24 24 0 0 0-7 17v137.21a32 32 0 0 0 19 29.26zM52 128a20 20 0 1 1-20 20 20 20 0 0 1 20-20zm316 320H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z\"></path>\n\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t},\n\t'-': (transformString) => {\n\t\treturn (\n      <svg>\n        {/* blanked square */}\n        <g transform={transformString}>\n          <rect x=\"0\" y=\"0\" width={45} height={45} fill=\"#2c3e50\" fillOpacity=\"0.8\" />\n        </g>\n      </svg>\n\t\t);\n\t}\n};\n\nexport default pieceDefs;\n","/*\n\nMIT License\n\nCopyright (c) 2016 Judd Niemann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\n////////////////////////////////////////////////////////////////////////////////////\n// Modified in 2020 by Andrew Benbow for use in the Rudrata web app\n// 1. Changed the event listener events to window events to escape an esLint error\n// 2. Updated highlight select color to reflect Rudrata's built in styles\n// 3. Updated the componentWillReceiveProps method to be compliant with react 16x\n// 4. Changed the styling on the SVG container to allow for a more dynamic container size\n///////////////////////////////////////////////////////////////////////////////////\n\n\n\nimport React, { Component } from 'react';\nimport Board from './board.js';\nimport Piece from './piece.js';\nimport standardPieceDefinitions from './pieceDefinitions.js';\nimport PropTypes from 'prop-types';\n\n\n/** BoardContainer : handles user input and draws a chess diagram consisting of\n* a board and pieces, using svg graphics */\nclass BoardContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedSquare: null,\n\t\t\tselectedPieceType: null,\n\t\t\tdragX: 0,\n\t\t\tdragY: 0,\n\t\t\tisDragging: false,\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\t\tthis._onResize = this._onResize.bind(this);\n\t\tthis._onScroll = this._onScroll.bind(this);\n\t}\n\n\t// Lifecycle events ////\n\n\tcomponentDidMount() {\n\t\tthis._getClientPos();\n\t\t// add DOM events\n\t\t  window.addEventListener('resize', this._onResize); // resize event not provided by React events; use DOM version\n\t\t  window.addEventListener('scroll', this._onScroll); // Changed to window event\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this._onResize); // Changed to window event\n\t\twindow.removeEventListener('scroll', this._onScroll); // Changed to window event\n\t}\n\n\tcomponentDidUpdate (nextProps) {\n\t\tif ( /* changes which have an effect on coordinates */\n\t\t\tnextProps.squareSize !== this.props.squareSize ||\n\t\t\tnextProps.ranks !== this.props.ranks ||\n\t\t\tnextProps.files !== this.props.files\n\t\t) {\n\t\t\tlet evt = new Event('resize');\n\t\t\tdispatchEvent(evt); // synthetically trigger resize event. (Can't get coords in here, because component not rendered yet ...)\n\t\t}\n\t}\n\n\t// event handling ////\n\n\t// DOM events\n\t_onResize() {\n\t\tthis._getClientPos();\n\t}\n\n\t_onScroll() {\n\t\tthis._getClientPos();\n\t}\n\n\t// react events\n\t_onMouseDown(evt) { // react event\n\t\tevt.preventDefault();\n\t\tlet x = evt.clientX - this.state.left;\n\t\tlet y = evt.clientY - this.state.top;\n\t\tthis._grab(x,y);\n\t}\n\n\t_onTouchStart(evt) {\n\t\tevt.preventDefault();\n\t\tlet x = evt.touches[0].clientX - this.state.left;\n\t\tlet y = evt.touches[0].clientY - this.state.top;\n\t\tthis._grab(x,y);\n\t}\n\n\t_onMouseMove(evt) {\n\t\tevt.preventDefault();\n\t\tlet x = evt.clientX - this.state.left;\n\t\tlet y = evt.clientY - this.state.top;\n\t\tthis._move(x,y);\n\t}\n\n\t_onTouchMove(evt) {\n\t\tevt.preventDefault();\n\t\tlet x = evt.touches[0].clientX - this.state.left;\n\t\tlet y = evt.touches[0].clientY - this.state.top;\n\t\tthis._move(x,y);\n\t}\n\n\t_onMouseUp(evt) {\n\t\tevt.preventDefault();\n\t\tlet x = evt.clientX - this.state.left;\n\t\tlet y = evt.clientY - this.state.top;\n\t\tthis._release(x,y);\n\t}\n\n\t_onTouchEnd(evt) {\n\t\tevt.preventDefault();\n\t\t/* // Note: android doesn't populate touches array on touchend\n\t\tlet x = evt.touches[0].clientX - this.state.left;\n\t\tlet y = evt.touches[0].clientY - this.state.top;\n\t\t*/\n\t\tlet [x,y] = [this.state.dragX, this.state.dragY];\n\n\t\tthis._release(x,y);\n\t}\n\n\t// coordinate conversion functions ////\n\n\t_squareToCoords(square) { // convert a square name (eg 'e4') to coordinates\n\t\tif(this.props.flip) {\n\t\t\tlet x = this.props.squareSize * (this.props.files - (square.toLowerCase().charCodeAt(0)-97));\n\t\t\tlet y = (Number(square.slice(1))-1) * this.props.squareSize;\n\t\t\treturn [x,y];\n\t\t} else {\n\t\t\tlet x = this.props.squareSize * (1 + square.toLowerCase().charCodeAt(0)-97);\n\t\t\tlet y = (this.props.ranks-Number(square.slice(1))) * this.props.squareSize;\n\t\t\treturn [x,y];\n\t\t}\n\t}\n\n\t_fileRankToCoords(file, rank) { // convert zero-based file and rank values to coordinates\n\t\tif(this.props.flip) {\n\t\t\tlet\tx = this.props.squareSize * (this.props.files - file);\n\t\t\tlet y = this.props.squareSize * rank;\n\t\t\treturn [x,y];\n\t\t} else {\n\t\t\tlet\tx = this.props.squareSize * (1 + file);\n\t\t\tlet y = this.props.squareSize * (this.props.ranks - rank -1);\n\t\t\treturn [x,y];\n\t\t}\n\t}\n\n\t_coordsToSquare(x,y) { // convert coordinates to square name (eg e4)\n\t\tif(this.props.flip) {\n\t\t\tlet file = String.fromCharCode(97 + this.props.files - x / this.props.squareSize + 1);\n\t\t\tlet rank = 1 + Math.floor(y / this.props.squareSize);\n\t\t\treturn file + rank;\n\t\t} else {\n\t\t\tlet file = String.fromCharCode(97 + x / this.props.squareSize - 1);\n\t\t\tlet rank = 1 + Math.floor((this.props.ranks * this.props.squareSize - y) / this.props.squareSize);\n\t\t\treturn file + rank;\n\t\t}\n\t}\n\n\t// private actions\n\n\t_grab(x,y) {\n\t\tlet boardW = this.props.squareSize * (1+this.props.files);\n\t\tlet boardH = this.props.squareSize * (this.props.ranks);\n\t\tif(x < this.props.squareSize || x > boardW || y < 0 || y > boardH) {\n\t\t\t//outside the board ...\n\t\t\treturn false;\n\t\t}\n\t\tlet selectedSquare = this._coordsToSquare(x,y);\n\t\tlet selectedPiece = this._getPieceAtSquare(selectedSquare);\n\t\tif (!this.state.selectedSquare || this.state.selectedSquare === selectedSquare) {\n\t\t\tthis.setState({\n\t\t\t\tselectedSquare: selectedSquare,\n\t\t\t\tselectedPieceType: selectedPiece ? selectedPiece.pieceType : null,\n\t\t\t\tdragX: selectedPiece ? selectedPiece.x + this.props.squareSize / 2: this.state.dragX,\n\t\t\t\tdragY: selectedPiece ? selectedPiece.y + this.props.squareSize / 2: this.state.dragY,\n\t\t\t\tisDragging: true\n\t\t\t});\n\t\t}\n\n\t\tif(this.props.onSelectSquare) {\n\t\t\tthis.props.onSelectSquare(selectedSquare);\n\t\t}\n\t}\n\n\t_move(x, y) {\n\t\tif(this.state.isDragging) {\n\t\t\tthis.setState({dragX: x, dragY: y});\n\t\t}\n\t}\n\n\t_release(x,y) {\n\t\tthis.setState({isDragging: false});\n\t\tlet finalSquare = this._coordsToSquare(x,y);\n\t\tif(finalSquare !== this.state.selectedSquare) {\n\t\t\tif(this.props.onMovePiece) { // call the callback fn\n\t\t\t\tthis.props.onMovePiece(this.state.selectedPieceType, this.state.selectedSquare, finalSquare);\n\t\t\t}\n\t\t\tthis.setState({selectedSquare: null});\n\t\t}\n\t}\n\n\t// self-enquiry ////\n\n\t_getClientPos() {\n\t\tlet rect = this.Client.getBoundingClientRect();\n\t\tthis.setState({left: rect.left, top: rect.top, width: rect.width, height: rect.height});\n\t}\n\n\t_getPieces() {\n\t\tif(!this.props.pieces)\n\t\t\treturn [];\n\n\t\treturn this.props.pieces.map((pieceString) => {\n\t\t\tlet [pieceType, square ] = pieceString.split('@',2);\t// split 'piece@square' into pieceType, square\n\t\t\tif(!square)\n\t\t\t\treturn {pieceType: 'invalid', square: 'none', x: 0,y: 0}; // guard against nonsense input\n\t\t\tlet [x,y] = this._squareToCoords(square);\n\t\t\tif (isNaN(y))\n\t\t\t\treturn {pieceType: 'invalid', square: 'none', x: 0,y: 0}; // invalid y-coordinate\n\t\t\treturn {pieceType: pieceType, square: square.toLowerCase(), x: x, y: y};\n\t\t});\n\t}\n\n\t_getPiecesFromFEN() {\n\t\tlet fields = this.props.fen.split(\" \", 6);\n\t\tconst pieceDefinitions = Object.assign(standardPieceDefinitions, this.props.pieceDefinitions);\n\t\tconst pieceChars = new RegExp('[' + Object.keys(pieceDefinitions).join('').replace('-', '\\\\-') + ']');\n\t\tconst splitFen = fields[0].replace(/(\\d+|\\w|\\/)(?!$)/g, '$1,').split(',');\n\t\treturn splitFen\n\t\t\t.reduce((accum, c) => {\n\t\t\t\tif(pieceChars.test(c)) {\n\t\t\t\t\tlet [x,y] = this._fileRankToCoords(accum.file, accum.rank);\n\t\t\t\t\tlet square = String.fromCharCode(97 + accum.file) + (accum.rank + 1).toString();\n\t\t\t\t\taccum.pieces.push({pieceType: c, square: square, x: x, y: y});\n\t\t\t\t\taccum.file++;\n\t\t\t\t} else if (c === \"/\") {\n\t\t\t\t\taccum.rank -= 1;\n\t\t\t\t\taccum.file = 0;\n\t\t\t\t}\telse if(Number.isInteger(parseInt(c))) {\n\t\t\t\t\taccum.file += Number(c);\n\t\t\t\t}\n\t\t\t\treturn accum;\n\t\t\t}, {\n\t\t\t\trank: this.props.ranks-1,\n\t\t\t\tfile: 0,\n\t\t\t\tpieces: []\n\t\t\t})\n\t\t\t.pieces;\n\t}\n\n\t_getPieceAtSquare(square) {\n\t\tlet pieces = this.props.fen ? this._getPiecesFromFEN() : this._getPieces();\n\t\treturn pieces.filter(pieceLocation => pieceLocation.square === square)[0];\n\t}\n\n\t// render function\n\n\trender() {\n\t\tlet pieces = this.props.fen ? this._getPiecesFromFEN() : this._getPieces();\n\t\tconst pieceDefinitions = Object.assign(standardPieceDefinitions, this.props.pieceDefinitions);\n\t\tconst highlights = {};\n\t\tif (this.state.selectedSquare) {\n\t\t\thighlights[this.state.selectedSquare] = ''; //Changed\n\t\t}\n\t\treturn (\n           \n\t\t\t\t<svg\n\t\t\t\t\tref={(svg) => {this.Client = svg;}}\n\t\t\t\t\tstyle={{display: 'inline-block', marginBottom: '-15%'}}\n\t\t\t\t\theight={this.props.height === \"auto\" ? (2 + this.props.ranks) * this.props.squareSize : this.props.height}\n\t\t\t\t\tonMouseDown={this._onMouseDown.bind(this)}\n\t\t\t\t\tonMouseMove={this._onMouseMove.bind(this)}\n\t\t\t\t\tonTouchEnd={this._onTouchEnd.bind(this)}\n\t\t\t\t\tonTouchMove={this._onTouchMove.bind(this)}\n\t\t\t\t\tonTouchStart={this._onTouchStart.bind(this)}\n\t\t\t\t\tonMouseUp={this._onMouseUp.bind(this)}\n\t\t\t\t\twidth={this.props.width === \"auto\" ? (2 + this.props.files) * this.props.squareSize : this.props.width}\n\t\t\t\t>\n            \n\n\t\t\t\t\t<Board\n\t\t\t\t\t\tdarkSquareColor={this.props.darkSquareColor}\n\t\t\t\t\t\tfiles={this.props.files}\n\t\t\t\t\t\tflip={!!this.props.flip}\n\t\t\t\t\t\thighlights={highlights}\n\t\t\t\t\t\tlightSquareColor={this.props.lightSquareColor}\n\t\t\t\t\t\tranks={this.props.ranks}\n\t\t\t\t\t\tselectedSquare={this.state.selectedSquare}\n\t\t\t\t\t\tsquareSize={this.props.squareSize}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{pieces.map((piece, i) =>\n\t\t\t\t\t\t<Piece\n\t\t\t\t\t\t\tx={this.state.isDragging && piece.square === this.state.selectedSquare ? this.state.dragX - this.props.squareSize / 2 : piece.x}\n\t\t\t\t\t\t\ty={this.state.isDragging && piece.square === this.state.selectedSquare ? this.state.dragY - this.props.squareSize / 2 : piece.y}\n\t\t\t\t\t\t\tkey={i} pieceType={piece.pieceType} squareSize={this.props.squareSize}\n\t\t\t\t\t\t\tdrawPiece={pieceDefinitions[piece.pieceType]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t</svg>\n\t\t);\n\t}\n}\nBoardContainer.propTypes = {\n\t/** Dictionary of legal moves, to be supplied by server*/\n\tallowedMoves: PropTypes.object,\n\tdarkSquareColor: PropTypes.string,\n\t/** Chess position in FEN format (Forsyth-Edwards Notation). eg \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\" */\n\tfen: PropTypes.string,\n\tfiles: PropTypes.number,\n\t/** if true, rotates the board so that Black pawns are moving up, and White pawns are moving down the board */\n\tflip: PropTypes.bool,\n\t/** height of main svg container in pixels. If setting this manually, it should be at least 9 * squareSize to fit board AND labels*/\n\theight: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n\tlightSquareColor: PropTypes.string,\n\t/** callback function which is called when user moves a piece. Passes pieceType, initialSquare, finalSquare as parameters to callback */\n\tonMovePiece: PropTypes.func,\n\t/** callback function which is called when user clicks on a square. Passes name of square as parameter to callback */\n\tonSelectSquare: PropTypes.func,\n\t/** array of pieces at particular squares (alternative to fen) eg ['P@f2','P@g2','P@h2','K@g1'].\n\t* This format may be more suitable for unconventional board dimensions, for which standard FEN would not work.\n\t* Note: If both FEN and pieces props are present, FEN will take precedence */\n\tpieces: PropTypes.array,\n\t/** Optional associative array containing non-standard chess characters*/\n\tpieceDefinitions: PropTypes.object,\n\tranks: PropTypes.number,\n\tsquareSize: PropTypes.number,\n\t/** width of main svg container in pixels. If setting this manually, it should be at least 9 * squareSize to fit board AND labels*/\n\twidth: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n};\n\nBoardContainer.defaultProps = {\n\tallowedMoves: {},\n\tdarkSquareColor:  \"#005EBB\",\n\theight: 'auto',\n\tfiles: 8,\n\tflip: false,\n\tlightSquareColor: \"#2492FF\",\n\tpieceDefinitions: {},\n\tranks: 8,\n\tsquareSize: 45,\n\twidth: 'auto',\n};\n\nexport default BoardContainer;\n","/*\n\nMIT License\n\nCopyright (c) 2016 Judd Niemann\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\n// chessdiagram.js : defines Chess Diagram Component\n\n///////////////////////////////////////////////////////////////////////////////////////////\n// Modified in 2020 by Andrew Benbow for use in the Rudrata web app\n// 1. Removed the game history import and all references\n// 2. Updated componentWillReceive props to be compliant with react 16x\n///////////////////////////////////////////////////////////////////////////////////////////\n\n\n\nimport React, { Component } from 'react';\nimport BoardContainer from './BoardContainer.js';\nimport PropTypes from 'prop-types';\n\n\n/** Chessdiagram : draws a chess diagram consisting of a board and pieces, using svg graphics */\nclass Chessdiagram extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// If FEN is present, and it is an array, use it for moves\n\t\t// If FEN is present, and it is a string, make it the first element of the moves array.\n\t\t// If FEN is NOT present, and PGN is present, call getFensFromPgn() to generate an array of FENs\n\t\t// If FEN is NOT present, and PGN is NOT present, make first element of moves array an empty string\n\t\tconst moves = props.fen ?\n\t\t\tArray.isArray(props.fen) ? props.fen : [props.fen]\n\t\t\t: props.pgn ? props.getFensFromPgn(props.pgn) : [''];\n\n\t\t// If there is a PGN, set currentMove to this.startMove, otherwise zero.\n\t\tconst currentMove = props.pgn ? this.startMove : 0;\n\t\tthis.state = {\n\t\t\tcurrentMove,\n\t\t\tmoves\n\t\t};\n\t}\n\n\t// Lifecycle events\n\tcomponentDidUpdate(nextProps) {\n\t\tif (nextProps.fen && nextProps.fen !== this.props.fen) {\n\t\t\tthis.setState({currentMove: 0, moves: [nextProps.fen]});\n\t\t}\n\t\tif (nextProps.pgn && nextProps.pgn !== this.props.pgn) {\n\t\t\tthis.setState({currentMove: this.startMove, moves: nextProps.getFensFromPgn(nextProps.pgn)});\n\t\t}\n\t}\n\n\t// event handling ////\n\n\t_onMovePiece(pieceType, from, to) {\n\t\tif (this.props.allowMoves && this.props.onMovePiece) {\n\t\t\tthis.props.onMovePiece(pieceType, from, to);\n\t\t}\n\t}\n\n\t_onMovePgnHead(halfMove) {\n\t\tthis.setState({\n\t\t\tcurrentMove: halfMove\n\t\t});\n\t}\n\n\t// returns halfmove count of the prop startMove ////\n\tget startMove() {\n\t\tlet currentMove;\n\t\tif (typeof this.props.startMove === 'number' || parseInt(this.props.startMove)) {\n\t\t\t// halfMove provided\n\t\t\tcurrentMove = parseInt(this.props.startMove);\n\t\t} else {\n\t\t\t// e.g., 'w12'\n\t\t\tcurrentMove = (parseInt(this.props.startMove.slice(1)) - 1) * 2 + (this.props.startMove[0] === 'w' ? 1 : 2);\n\t\t}\n\t\treturn currentMove;\n\t}\n\n\t// render function\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BoardContainer\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tfen={this.state.moves[this.state.currentMove]}\n\t\t\t\t\tstyle={{display: 'inline-block'}}\n\t\t\t\t\tonMovePiece={this._onMovePiece.bind(this)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nChessdiagram.propTypes = {\n\t/** Whether to allow the user to make moves on the board (ie, whether to ignore mouse input) */\n\tallowMoves: PropTypes.bool,\n\tdarkSquareColor: PropTypes.string,\n\t/** Fen string to render. Should override  */\n\tfen: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.array\n\t]),\n\tfiles: PropTypes.number,\n\t/** if true, rotates the board so that Black pawns are moving up, and White pawns are moving down the board */\n\tflip: PropTypes.bool,\n\t/** Optional custom callbacks for PGN parsing. should take pgn (string).\n\t*/\n\tgetFensFromPgn: PropTypes.func,\n\tgetHeader: PropTypes.func,\n\tgetMovetext: PropTypes.func,\n\tgetResult: PropTypes.func,\n\t/** Returns an array of arrays, containing [<fullmoveNumber>, <whiteMove> <optionalBlackMove>] */\n\tgetRows: PropTypes.func,\n\t/** height of main svg container in pixels. If setting this manually, it should be at least 9 * squareSize to fit board AND labels*/\n\theight: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n\tlightSquareColor: PropTypes.string,\n\t/** Pgn line separator. Defaults to '\\r?\\n'*/\n\tnewlineChar: PropTypes.string,\n\t/** callback function which is called when user moves a piece. Passes pieceType, initialSquare, finalSquare as parameters to callback */\n\tonMovePiece: PropTypes.func,\n\t/** callback function which is called when user clicks on a square. Passes name of square as parameter to callback */\n\tonSelectSquare: PropTypes.func,\n\t/** String representation of a PGN. Note that chess.js can't handle templates,\n\t* so if you'd like to pass templates you'll need a custom getNthMove callback.*/\n\tpgn: PropTypes.string,\n\t/** Height of pgn viewer component */\n\tpgnHeight: PropTypes.number,\n\t/** array of pieces at particular squares (alternative to fen) eg ['P@f2','P@g2','P@h2','K@g1'].\n\t* This format may be more suitable for unconventional board dimensions, for which standard FEN would not work.\n\t* Note: If both FEN and pieces props are present, FEN will take precedence */\n\tpieces: PropTypes.array,\n\t/** Optional associative array containing non-standard chess characters*/\n\tpieceDefinitions: PropTypes.object,\n\tranks: PropTypes.number,\n\t/** size of the squares in pixels */\n\tsquareSize: PropTypes.number,\n\t// Which move to start the game on. Either halfmove count or letter followed by full move eg w12 //\n\tstartMove: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number\n\t]),\n\t/** Chess position in FEN format (Forsyth-Edwards Notation). eg \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\" */\n\tstartPosition: PropTypes.string,\n\t/** width of main svg container in pixels. If setting this manually, it should be at least 9 * squareSize to fit board AND labels*/\n\twidth: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t]),\n};\n\nChessdiagram.defaultProps = {\n\tallowMoves: true,\n\tdarkSquareColor:  \"#005EBB\",\n\theight: 'auto',\n\tfiles: 8,\n\tflip: false,\n\tlightSquareColor: \"#2492FF\",\n\tnewlineChar: '\\r?\\n',\n\tpieceDefinitions: {},\n\tpgnHeight: 400,\n\tranks: 8,\n\tstartMove: 0,\n\tsquareSize: 45,\n\twidth: 'auto',\n};\n\n\nexport default Chessdiagram;\n","import React, { Component, PureComponent } from \"react\";\nimport \"bootswatch/dist/flatly/bootstrap.min.css\";\nimport HowTo from \"./components/HowTo/HowTo.js\";\nimport Score from \"./components/Score/Socre.js\";\nimport CreatedBy from \"./components/CreatedBy/CreatedBy.js\";\nimport Win from \"./components/Win/Win.js\";\n\nimport \"./App.css\";\n\n// React-bootstrap import\nimport {\n  Button,\n  Row,\n  Col,\n  Container,\n  ButtonToolbar,\n  Dropdown,\n} from \"react-bootstrap\";\n\n// Custom Chess Diagram Import\nimport Chessdiagram from \"./components/rudrata-chess-diagram/chessdiagram\";\n\n// Import react-measure\nimport Measure from \"react-measure\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight, faPiggyBank } from \"@fortawesome/free-solid-svg-icons\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      order: 8,\n    };\n\n    this.handleOrder = this.handleOrder.bind(this);\n  }\n\n  handleOrder(event) {\n    const order = parseInt(event.target.attributes[\"data-order\"].value);\n\n    return this.setState({ order: order });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Row>\n          <Col col={12}>\n            <ChessBoard\n              handleOrder={this.handleOrder}\n              order={this.state.order}\n            />\n          </Col>\n        </Row>\n      </React.Fragment>\n    );\n  }\n}\n\nclass ChessBoard extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      boardWidth: parseInt(props.order),\n      boardHeight: parseInt(props.order),\n      diagramDimensions: { width: -1 },\n      seqNumber: 0,\n      tourSeq: [],\n      helpAltBackground: false,\n      currentScore: 0,\n    };\n\n    this.wrapper = React.createRef();\n\n    this.handleClear = this.handleClear.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleHowTo = this.handleHowTo.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.order !== prevProps.order) {\n      return this.setState({\n        boardHeight: this.props.order,\n        boardWidth: this.props.order,\n      });\n    }\n  }\n\n  handleMove(move) {\n    const { tourSeq } = this.state;\n\n    if (tourSeq.includes(move) === false) {\n      if (this.state.seqNumber === 0) {\n        return this.placeKnight(move);\n      } else {\n        const prevMove = tourSeq.slice().pop();\n\n        if (this.checkLegalMove(move, prevMove) === true) {\n          return this.placeKnight(move);\n        } else {\n          return null;\n        }\n      }\n    }\n  }\n\n  handleHowTo() {\n    const howto = document.querySelector(\"#how-to\");\n    howto.scrollIntoView();\n\n    this.setState((state) => ({\n      helpAltBackground: !state.helpAltBackground,\n    }));\n    return setTimeout(() => {\n      this.setState((state) => ({\n        helpAltBackground: !state.helpAltBackground,\n      }));\n    }, 5000);\n  }\n\n  checkLegalMove(move, prevMove) {\n    const legalMoves = [\n      [2, 1],\n      [2, -1],\n      [-2, 1],\n      [-2, -1],\n      [1, 2],\n      [1, -2],\n      [-1, 2],\n      [-1, -2],\n    ];\n    const ranks = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\"];\n\n    const re = /(\\d{1,})/;\n\n    const move_x = ranks.indexOf(move[0]) + 1;\n    const move_y = parseInt(move.split(re)[1]);\n    const prevMove_x = ranks.indexOf(prevMove[0]) + 1;\n    const prevMove_y = parseInt(prevMove.split(re)[1]);\n    let isLegal = false;\n\n    for (let i in legalMoves) {\n      if (\n        prevMove_x + legalMoves[i][0] === move_x &&\n        prevMove_y + legalMoves[i][1] === move_y\n      ) {\n        isLegal = true;\n\n        return isLegal;\n      } else {\n        continue;\n      }\n    }\n\n    return isLegal;\n  }\n\n  placeKnight(move) {\n    let sequence = this.state.tourSeq.slice();\n    sequence.push(move);\n    return this.setState((state) => ({\n      tourSeq: sequence,\n      seqNumber: (state.seqNumber += 1),\n      currentScore: (state.currentScore += 1),\n    }));\n  }\n\n  handleClear() {\n    return this.setState({ tourSeq: [], seqNumber: 0, currentScore: 0 });\n  }\n\n  handleUpdate(event) {\n    this.handleClear();\n    this.props.handleOrder(event);\n  }\n\n  render() {\n    const {\n      boardWidth,\n      boardHeight,\n      diagramDimensions,\n      seqNumber,\n      tourSeq,\n      currentScore,\n    } = this.state;\n\n    let tourSquares = tourSeq; //sequence of squares visited in tour (as array)\n    let lastSquareName = tourSquares[seqNumber - 1];\n\n    let positionDescriptor = tourSquares.map((sq) => \"-@\" + sq); // blanked squares at each square of sequence\n    if (lastSquareName) positionDescriptor.push(\"N@\" + lastSquareName); // knight on last square of sequence\n\n    return (\n      <React.Fragment>\n        {/* A win condition that displays a fun visual effect */}\n        {seqNumber === this.props.order * this.props.order && <Win />}\n\n        {/* The website header */}\n        <header id=\"rudrata-header\">\n          <Container fluid className=\"d-flex justify-content-around mb-5\">\n            <Row>\n              <Col className=\"mr-5\">\n                <h1 className=\"display-2\">Rudrata</h1>\n                <p>Visit each square on the chess board!</p>\n                <button\n                  className=\"font-weight-bold btn-link btn\"\n                  onClick={this.handleHowTo}\n                >\n                  How To Play <FontAwesomeIcon icon={faArrowRight} />\n                </button>\n              </Col>\n\n              <Col>\n                <Row>\n                  <Score currentScore={currentScore} order={this.props.order} />\n                </Row>\n\n                <ButtonToolbar className=\"d-flex w-75 flex-column justify-content-around ml-3\">\n                  <Row>\n                    <Button\n                      size=\"lg\"\n                      className=\"mt-2\"\n                      variant=\"success\"\n                      onClick={this.handleClear}\n                    >\n                      New Game\n                    </Button>\n                  </Row>\n\n                  <Row>\n                    <Dropdown className=\"mt-2 w-100\">\n                      <Dropdown.Toggle size=\"lg\" variant=\"success\">\n                        Chess Board Size\n                      </Dropdown.Toggle>\n\n                      <Dropdown.Menu>\n                        <Dropdown.Item\n                          data-order={5}\n                          className=\"text-success difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          5x5 (easy)\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                          data-order={6}\n                          className=\"text-success difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          6x6{\" \"}\n                        </Dropdown.Item>\n                        <Dropdown.Divider />\n                        <Dropdown.Item\n                          data-order={7}\n                          className=\"text-warning difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          7x7 (intermediate)\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                          data-order={8}\n                          className=\"text-warning difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          8x8 (default)\n                        </Dropdown.Item>\n                        <Dropdown.Divider />\n                        <Dropdown.Item\n                          data-order={9}\n                          className=\"text-danger difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          9x9 (difficult)\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                          data-order={10}\n                          className=\"text-danger difficulty-dd\"\n                          onClick={(event) => {\n                            this.handleUpdate(event);\n                          }}\n                        >\n                          10x10{\" \"}\n                        </Dropdown.Item>\n                      </Dropdown.Menu>\n                    </Dropdown>\n                  </Row>\n                </ButtonToolbar>\n              </Col>\n            </Row>\n          </Container>\n        </header>\n\n        <section id=\"chessboard\">\n          <Measure\n            bounds\n            onResize={(contentRect) => {\n              this.setState({ diagramDimensions: contentRect.bounds });\n            }}\n          >\n            {({ measureRef }) => (\n              <div ref={measureRef} className=\"d-flex justify-content-center\">\n                <Chessdiagram\n                  allowMoves={false}\n                  squareSize={\n                    measureRef\n                      ? Math.min(80, (1 * diagramDimensions.width) / boardWidth)\n                      : 45\n                  }\n                  files={boardHeight}\n                  ranks={boardWidth}\n                  pieces={positionDescriptor}\n                  onSelectSquare={(name) => this.handleMove(name)}\n                  lightSquareColor=\"#F0EBD8\"\n                  darkSquareColor=\"#A38D7B\"\n                />\n              </div>\n            )}\n          </Measure>\n        </section>\n        <br />\n\n        <section id=\"how-to-section\">\n          <HowTo altBackground={this.state.helpAltBackground} />\n        </section>\n        <hr className=\"w-50\" />\n\n        <section id=\"created-by-section\">\n          <CreatedBy />\n        </section>\n\n        <section\n          id=\"donate-section\"\n          className=\"d-flex flex-row justify-content-center\"\n        >\n          <a\n            className=\"btn btn-primary btn-lg\"\n            href=\"https://www.paypal.com/donate?hosted_button_id=3972H6RJEYDVW\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <FontAwesomeIcon className=\"mr-2\" icon={faPiggyBank} />\n            Donate\n          </a>\n        </section>\n        <hr className=\"w-50\" />\n        <section id=\"tos\" className=\"d-flex flex-row justify-content-center\">\n          <p>\n            Rudrata does not store or process any personal data, period. It\n            simply does not have the capability to track you or store your\n            personal data. But, for important legal reasons, this website still\n            needs a{\" \"}\n            <a\n              href=\"https://www.termsfeed.com/live/86855bbe-e5f0-4b57-a4a4-8319222cfcb6\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Privacy Policy\n            </a>\n            .\n          </p>\n        </section>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}